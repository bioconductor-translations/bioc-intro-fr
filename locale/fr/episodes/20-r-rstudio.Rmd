---
source: Rmd
title: R et RStudio
teaching: 30
exercises: 0
---

```{r, include=FALSE}

```

::::::::::::::::::::::::::::::::::::::: objectives

- Décrire le principe des scripts RStudio, de la console, de l'environnement et des panneaux de visualisation.
- Organiser les fichiers et les répertoires d'une même série d'analyses en projet R et comprendre le but du répertoire de travail.
- Utiliser l'interface d'aide intégrée de RStudio pour rechercher des informations sur les fonctions R.
- Montrer comment fournir suffisamment d’informations pour faciliter le dépannage par la communauté des utilisateurs R.

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: questions

- What are R and RStudio?

::::::::::::::::::::::::::::::::::::::::::::::::::

> Cet épisode est basé sur la leçon _Analyse des données et
> Visualisation dans R pour les écologistes_ de Data Carpentries.

## What is R? What is RStudio?

The term [R](https://www.r-project.org/) is used to refer to the
_programming language_, the _environment for statistical computing_
and _the software_ that interprets the scripts written using it.

[RStudio](https://rstudio.com) est fréquemment utilisé pour écrire des scripts R et pour interagir avec le logiciel R
[^plainr]. R doit être préalablement installé sur votre ordinateur pour que RStudio puisse fonctionner correctement.

[^plainr]: As opposed to using R directly from the command line
    console. There exist other software that interface and integrate
    with R, but RStudio is particularly well suited for beginners
    while providing numerous very advanced features.

The RStudio IDE Cheat
Sheet
provides much more information than will be covered here, but can be
useful to learn keyboard shortcuts and discover new features.

## Why learn R?

### R utilise peu de "clic-bouton", ce qui est une bonne chose

La courbe d'apprentissage en R est probablement plus complexe qu'avec un autre logiciel. Par contre, les résultats des analyses effectuées ne découleront pas d'une succession de commandes en clic-bouton (que l'on risque d'oublier) mais d'une série de commandes écrites. L'énorme avantage est que si vous souhaitez refaire
votre analyse parce que vous avez par exemple collecté davantage de données, vous n'aurez pas besoin de
vous rappeler sur quel bouton vous avez cliqué, ni dans quel ordre, pour obtenir vos
résultats ; il vous suffira de re-exécuter votre script.

Travailler avec des scripts clarifie les étapes utilisées dans vos analyses, et le code que vous écrivez peut être relu par quelqu'un d'autre qui pourrait le commenter et repérer les erreurs.

Travailler avec des scripts vous force à bien comprendre ce que vous faites. Vous aurez ainsi une meilleure compréhension des méthodes
que vous utilisez.

### R code is great for reproducibility

La reproductibilité signifie que quelqu'un d'autre (ou vous-même!) peut
obtenir les mêmes résultats à partir du même jeu de données en utilisant le même code.

R s'intègre à d'autres outils pour générer des manuscrits ou des rapports à partir de votre code. Si vous collectez davantage de données ou si vous corrigez une erreur dans votre jeu de données, les chiffres
et les tests statistiques de votre rapport sont mis à jour
automatiquement.

De plus en plus de revues scientifiques et d'agences de financement exigent que les analyses soient reproductibles. Savoir utiliser R sera donc un avantage.

### R is interdisciplinary and extensible

Plus de 10 000 _packages_ [^whatarepkgs] (paquets) peuvent être installés pour étendre les capacités de R. Les approches statistiques de nombreuses disciplines scientifiques peuvent donc être combinées, ce qui permet d'optimiser le cadre analytique nécessaire à l'analyse de vos données. Par exemple,
R propose des _packages_ pour l'analyse d'images, de données géographiques, de séries chronologiques, pour l'analyse de génétique
de population et bien plus encore.

[^whatarepkgs]: i.e. add-ons that confer R with new functionality,
    such as bioinformatics data analysis.

```{r, fig.cap="Exponential increase of the number of packages available on [CRAN](https://cran.r-project.org/), the Comprehensive R Archive Network. From the R Journal, Volume 10/2, December 2018.", echo=FALSE, message=FALSE}
knitr::include_graphics("fig/cran.png")
```

### R fonctionne quel que soit la forme et la taille des données

R fonctionne aussi bien sur des petits que sur des gros jeux de données (pouvant contenir des millions de lignes).

R is designed for data analysis. Ce langage utilise des structures de données particulières ainsi que certains types de données qui facilitent la gestion des données, comme les données manquantes ou les variables catégorielles
.

R peut se connecter à des feuilles de calcul, à des bases de données et à de nombreux autres formats de données,
sur votre ordinateur ou sur le Web.

### R génère des graphiques de haute qualité

Les fonctionnalités graphiques de R sont étendues. Elles permettent d'ajuster
n'importe quel aspect d'une figure pour transmettre efficacement le message des données.

### La communauté R est grande et accueillante

Thousands of people use R daily. Many of them are willing to help you
through mailing lists and websites such as Stack
Overflow, or on the RStudio
community. Ces larges communautés d'utilisateurs
recouvrent des domaines spécialisés tels que la bioinformatique. Un des sous-ensembles de la communauté R est [Bioconductor](https://bioconductor.org/), un projet scientifique pour l'analyse et la compréhension de données biologiques
. Cet atelier a d'ailleurs été développé par des membres de la communauté Bioconductor ; pour plus d'informations, veuillez consulter l'atelier complémentaire ["The Bioconductor Project"](https://carpentries-incubator.github.io/bioc-project/).

### R est non seulement gratuit, mais également open source et multiplateforme

Anyone can inspect the source code to see how R works. Because of this
transparency, there is less chance for mistakes, and if you (or
someone else) find some, you can report and fix bugs.

## RStudio

Let's start by learning about [RStudio](https://www.rstudio.com/),
which is an Integrated Development Environment (IDE) for working with
R.

The RStudio IDE open-source product is free under the Affero General
Public License (AGPL) v3.
The RStudio IDE is also available with a commercial license and
priority email support from Posit, Inc.

Nous utiliserons l'IDE RStudio pour écrire du code, parcourir les fichiers sur notre
ordinateur, inspecter les variables que nous allons créer et visualiser
les graphiques que nous allons générer. RStudio peut également être utilisé pour d'autres choses
(par exemple, le contrôle de version, le développement de _packages_, l'écriture d'applications _Shiny_) que
nous n'aurons pas l'occasion d'aborder pendant cet atelier.

```{r, results="markup", fig.cap="RStudio interface screenshot. Clockwise from top left: Source, Environment/History, Files/Plots/Packages/Help/Viewer, Console.", echo=FALSE, purl=FALSE, out.width="100%", fig.align="center"}
knitr::include_graphics("fig/rstudio-screenshot.png")
```

The RStudio window is divided into 4 "Panes":

- the **Source** for your scripts and documents (top-left, in the
  default layout)
- your **Environment/History** (top-right),
- vos **Fichiers/Graphiques/Packages/Aide/Visionneuse** (en bas à droite), et
- the R **Console** (bottom-left).

The placement of these panes and their content can be customised (see
menu, `Tools -> Global Options -> Pane Layout`).

L'un des avantages de l'utilisation de RStudio est que toutes les informations dont vous
avez besoin pour écrire du code sont disponibles dans la même fenêtre. De plus, avec
de nombreux raccourcis, avec les couleurs associées aux différents types de variables, et grâce à la complétion automatique RStudio facilite l'écriture de code et le rend moins sujet aux erreurs.

## Getting set up

Il est recommandé de conserver l'ensemble des données, d'analyses et de textes relatifs à un même projet dans un seul et même dossier, appelé **répertoire de travail**. Tous les scripts de ce dossier peuvent alors utiliser des
**chemins relatifs** qui indiquent où se trouvent les différents fichiers dans le projet
(par opposition aux **chemins absolus**, qui pointent vers l'endroit où se trouvent les fichiers sur un ordinateur spécifique). Travailler de cette façon permet de pouvoir facilement déplacer le projet sur votre ordinateur ou de le partager avec
d'autres, sans vous soucier de savoir si les scripts sous-jacents
fonctionneront toujours.

RStudio fournit un ensemble d'outils via son interface "Projets", qui non seulement crée un répertoire de travail pour vous, mais mémorise également son emplacement (vous permettant d'y accéder rapidement). Ceci permet aussi d'éventuellement conserver les paramètres personnalisés et les fichiers ouverts pour faciliter la reprise du travail après une
pause. Go through the steps for creating an "R Project" for this
tutorial below.

1. Start RStudio.
2. Under the `File` menu, click on `New project`. Choose `New directory`, then
  `New project`.
3. Enter a name for this new folder (or "directory"), and choose a
  convenient location for it. This will be your **working directory**
  for this session (or whole course) (e.g., `bioc-intro`).
4. Click on `Create project`.
5. (Optional) Set Preferences to 'Never' save workspace in RStudio.

Les préférences par défaut de RStudio fonctionnent généralement bien, mais il vaut mieux éviter d'enregistrer l'espace de travail dans
.RData, surtout si vous travaillez avec des jeux de données volumineux.
To turn that off, go to Tools --> 'Global Options' and select the 'Never' option
for 'Save workspace to .RData' on exit.

```{r, results="markup", fig.cap="Set 'Save workspace to .RData on exit' to 'Never'", echo=FALSE, purl=FALSE, out.width="70%", fig.align="center"}
knitr::include_graphics("fig/rstudio-preferences.png")
```

To avoid character encoding issues between Windows and other operating
systems, we are
going to set UTF-8 by default:

```{r, results="markup", fig.cap="Set the default text encoding to UTF-8 to save us headache in the coming future. (Figure from the link above).", echo=FALSE, purl=FALSE, out.width="70%", fig.align="center"}
knitr::include_graphics("fig/utf8.png")
```

### Organizing your working directory

L'utilisation d'une structure de dossiers cohérente pour vos différents projets vous aidera à être organisés et facilitera également la recherche/le classement des éléments à l'avenir. This
can be especially helpful when you have multiple projects. In general, you may
create directories (folders) for **scripts**, **data**, and **documents**.

- **`data/`** Utilisez ce dossier pour stocker vos données brutes et les données intermédiaires
  que vous pourriez avoir besoin de créer lors d'une analyse particulière. For
  the sake of transparency and
  [provenance](https://en.wikipedia.org/wiki/Provenance), you should
  _always_ keep a copy of your raw data accessible and do as much of
  your data cleanup and preprocessing programmatically (i.e., with
  scripts, rather than manually) as possible. Separating raw data
  from processed data is also a good idea. Par exemple, vous pourriez vouloir
  conserver les fichiers `data/raw/tree_survey.plot1.txt` et `...plot2.txt` dans un dossier séparé d'un fichier `data/processed/tree.survey.csv` qui est, lui, un fichier processé qui a été généré par
  le script `scripts/01.preprocess.tree_survey.R`.
- **`documents/`** serait typiquement l'endroit où conserver les plans, les brouillons, ou d'autre types de textes.
- **`scripts/`** (ou `src`) serait l'emplacement où sauvegarder les scripts correspondant différentes analyses ou visualisations, et potentiellement un dossier séparé pour vos fonctions (nous y reviendrons plus tard).

Ces dossiers devraient être la structure de base de votre répertoire de travail, auquel vous souhaiterez peut-être ajouter des répertoires ou sous-répertoires supplémentaires en fonction des besoins de votre projet.
.

```{r, results="markup", fig.cap="Example of a working directory structure.", echo=FALSE, purl=FALSE, out.width="100%", fig.align="center"}
knitr::include_graphics("fig/working-directory-structure.png")
```

Pour ce cours, nous aurons besoin d'un dossier `data/` pour stocker nos données brutes, nous utiliserons un dossier `data_output/` lorsque nous exporterons des données sous forme de
fichiers CSV et nous créerons un dossier `fig_output/` pour y mettre les figures que nous allons enregistrer.

:::::::::::::::::::::::::::::::::::::::  challenge

## Challenge: create your project directory structure

Sous l'onglet "Fichiers" à droite de l'écran, cliquez sur "Nouveau dossier" et
créez un dossier nommé "data" dans votre répertoire de travail nouvellement créé
(par exemple, "~/bioc-intro/data"). Vous pouvez également taper `dir.create("data")` sur
votre console R. Repeat these operations to create a `data_output/` and a
`fig_output` folders.

::::::::::::::::::::::::::::::::::::::::::::::::::

Nous allons conserver le script à la racine de notre répertoire de travail
car nous n'allons utiliser qu'un seul fichier et cela facilitera les choses.

Your working directory should now look like this:

```{r, results="markup", fig.cap="How it should look like at the beginning of this lesson", echo=FALSE, purl=FALSE, out.width="100%", fig.align="center"}
knitr::include_graphics("fig/r-starting-how-it-should-look-like.png")
```

La **gestion de projet** s'applique évidemment aussi aux projets de bioinformatique [^bioindatascience]. William Noble (@Noble:2009) proposes the
following directory structure:

[^bioindatascience]: In this course, we consider bioinformatics as
    data science applied to biological or bio-medical data.

> Directory names are in large typeface, and filenames are in smaller
> typeface. Only a subset of the files are shown here. Notez que les dates
> sont formatées en `<Année>-<mois>-<jour>` afin qu'elles puissent être
> triées par ordre chronologique. The source code `src/ms-analysis.c`
> is compiled to create `bin/ms-analysis` and is documented in
> `doc/ms-analysis.html`. Les fichiers `README` dans les répertoires de données
> précisent qui a téléchargé les données, à partir de quelle URL, et à quelle date
> . Le script `results/2009-01-15/runall`
> génère automatiquement les trois sous-répertoires split1, split2 et split3,
> correspondant à des validation croisées de 3 sous-ensembles. Le script
> `bin/parse-sqt.py` est appelé par le  script `runall`
> .

```{r bioinfoproj, fig.cap="Directory structure for a sample bioinformatics project.", out.width="100%", echo=FALSE}
knitr::include_graphics("fig/noble-bioinfo-project.png")
```

Un répertoire de projet
bien défini et bien documenté doit permettre à quelqu'un qui n'est pas familier avec le projet
[^futureself] de :

1. comprendre en quoi consiste le projet, quelles données sont disponibles, quelles
  analyses ont été effectuées et quels résultats ont été produits

2. et surtout de répéter l'analyse à nouveau - avec de nouvelles données ou en modifiant certains paramètres d'analyse
  .

[^futureself]: That someone could be, and very likely will be your
    future self, a couple of months or years after the analyses were
    run.

### The working directory

The working directory is an important concept to understand. It is the
place from where R will be looking for and saving the files. When you
write code for your project, it should refer to files in relation to
the root of your working directory and only need files within this
structure.

Using RStudio projects makes this easy and ensures that your working
directory is set properly. If you need to check it, you can use
`getwd()`. Si par hasard votre répertoire de travail n'est pas celui qu'il devrait être, vous pouvez le changer dans RStudio en y accédant via le navigateur de fichiers, puis en cliquant sur l'icône representant un engrenage bleu, et sélectionner `Définir comme répertoire de travail`.
Alternatively you can use `setwd("/path/to/working/directory")` to
reset your working directory. However, your scripts should not include
this line because it will fail on someone else's computer.

**Example**

The schema below represents the working directory `bioc-intro` with the
`data` and `fig_output` sub-directories, and 2 files in the latter:

```
bioc-intro/data/
          /fig_output/fig1.pdf
          /fig_output/fig2.png
```

Si on était dans le répertoire de travail, on pourrait faire référence au fichier `fig1.pdf`
en utilisant le chemin relatif `bioc-intro/fig_output/fig1.pdf` ou le chemin absolu
`/home/user/bioc-intro/fig_output/fig1.pdf`.

If we were in the `data` directory, we would use the relative path
`../fig_output/fig1.pdf` or the same absolute path
`/home/user/bioc-intro/fig_output/fig1.pdf`.

## Interacting with R

La base de la programmation est que nous écrivons les instructions que l'ordinateur doit faire, puis nous demandons à l'ordinateur de les suivre
. We write, or _code_, instructions in R because it is a
common language that both the computer and we can understand. We call
the instructions _commands_ and we tell the computer to follow the
instructions by _executing_ (also called _running_) those commands.

There are two main ways of interacting with R: by using the
**console** or by using **scripts** (plain text files that contain
your code). The console pane (in RStudio, the bottom left panel) is
the place where commands written in the R language can be typed and
executed immediately by the computer. It is also where the results
will be shown for commands that have been executed. You can type
commands directly into the console and press `Enter` to execute those
commands, but they will be forgotten when you close the session.

Because we want our code and workflow to be reproducible, it is better
to type the commands we want in the script editor, and save the
script. De cette façon, il existe un enregistrement complet de ce que nous avons fait, et
n'importe qui (y compris nous-même !) pourra reproduire facilement les résultats
sur n'importe quel ordinateur. Note, however, that merely typing the commands
in the script does not automatically _run_ them - they still need to
be sent to the console for execution.

RStudio allows you to execute commands directly from the script editor
by using the `Ctrl` + `Enter` shortcut (on Macs, `Cmd` + `Return` will
work, too). La commande sur la ligne actuelle du script (indiquée
par le curseur) ou toutes les commandes dans le texte qui sont sélectionnées
seront envoyées à la console et exécutées lorsque vous appuyez sur `Ctrl` +
`Entrer`. You can find other keyboard shortcuts in this RStudio
cheatsheet about the RStudio
IDE.

Lors de votre analyse, il est possible qu'à un moment donné vous souhaitiez vérifier le contenu d'une variable
ou la structure d'un objet, sans nécessairement vouloir sauvergarder cette commande
dans votre script. You can type these commands and execute
them directly in the console.  RStudio provides the `Ctrl` + `1` and
`Ctrl` + `2` shortcuts allow you to jump between the script and the
console panes.

Si R est prêt à accepter les commandes, la console R affiche une invite '>'. S'il reçoit une commande (en tappant, en faisant un copié-collé ou en l'envoyant à partir de l'éditeur de script avec `Ctrl` + `Entrer`), R va essayer de l'exécuter, et lorsqu'il sera prêt, R affichera les résultats et une nouvelle invite '>' apparaîtra.

Si R attend toujours que vous saisissiez plus de données parce que
ce n'est pas encore terminé, la console affichera une invite « + ». It means that you
haven't finished entering a complete command. Ceci peut arriver s'il manque par exemple une parenthèse ou un guillemet.  Lorsque cela se produit et que vous
pensez avoir fini de taper votre commande, cliquez dans la fenêtre
de la console et appuyez sur « Échap » ; cela annulera la commande incomplète et
vous ramènera à l'invite '>'.

## How to learn more during and after the course?

Le matériel que nous aborderons au cours de ce cours vous donnera un premier
aperçu de la façon dont vous pouvez utiliser R pour analyser vos données. Cependant, vous devrez en apprendre davantage pour effectuer des
opérations avancées telles que nettoyer votre jeu de données, utiliser des méthodes statistiques,
ou créer de superbes graphiques[^inthiscoure]. La meilleure façon de devenir efficace et compétent en R, comme avec tout autre outil, est de l'utiliser pour
répondre à de vraies questions de recherche. As a beginner, it can feel
daunting to have to write a script from scratch, and given that many
people make their code available online, modifying existing code to
suit your purpose might make it easier for you to get started.

[^inthiscoure]: We will introduce most of these (except statistics)
    here, but will only manage to scratch the surface of the wealth of
    what is possible to do with R.

```{r kitten, results="markup", echo=FALSE, purl=FALSE, out.width="400px", fig.align="center"}
knitr::include_graphics("fig/kitten-try-things.jpg")
```

## Seeking help

### Use the built-in RStudio help interface to search for more information on R functions

```{r rstudiohelp, fig.cap="RStudio help interface.", results="markup", echo=FALSE, purl=FALSE, out.width="70%", fig.align="center"}
knitr::include_graphics("fig/rstudiohelp.png")
```

One of the fastest ways to get help, is to use the RStudio help
interface. This panel by default can be found at the lower right hand
panel of RStudio. As seen in the screenshot, by typing the word
"Mean", RStudio tries to also give a number of suggestions that you
might be interested in. The description is then shown in the display
window.

### I know the name of the function I want to use, but I'm not sure how to use it

Si vous avez besoin d'aide à propos d'une fonction spécifique, par exemple `barplot()`, vous
pouvez taper :

```{r, eval=FALSE, purl=TRUE}
?barplot
```

If you just need to remind yourself of the names of the arguments, you can use:

```{r, eval=FALSE, purl=TRUE}
args(lm)
```

### I want to use a function that does X, there must be a function for it but I don't know which one...

If you are looking for a function to do a particular task, you can use the
`help.search()` function, which is called by the double question mark `??`.
However, this only looks through the installed packages for help pages with a
match to your search request

```{r, eval=FALSE, purl=TRUE}
??kruskal
```

Si vous ne trouvez pas ce que vous cherchez, vous pouvez utiliser
le site Web [rdocumentation.org](https://www.rdocumentation.org) qui recherche
dans les fichiers d'aide de tous les packages disponibles.

Finally, a generic Google or internet search "R \<task>" will often either send
you to the appropriate package documentation or a helpful forum where someone
else has already asked your question.

### I am stuck... I get an error message that I don't understand

Start by googling the error message. Cela ne fonctionne cependant pas toujours très bien
car souvent, les développeurs de packages s'appuient sur la détection d'erreurs fournie par R. Vous
vous retrouvez avec des messages d'erreur généraux qui pourraient ne pas être très utiles pour diagnostiquer un problème (par exemple "indice hors limites"). If the message is very generic, you
might also include the name of the function or package you're using in your
query.

However, you should check Stack Overflow. Search using the `[r]` tag. La plupart des
questions ont déjà reçu une réponse, mais le défi consiste à utiliser les bons
mots clés dans la recherche pour trouver les
réponses :

[http://stackoverflow.com/questions/tagged/r](https://stackoverflow.com/questions/tagged/r)

L'[Introduction à R](https://cran.r-project.org/doc/manuals/R-intro.pdf) peut
sembler compliquée pour les personnes ayant peu d'expérience en programmation, mais c'est une bonne
base pour tenter comprendre les fondements du langage R.

La [section FAQ R](https://cran.r-project.org/doc/FAQ/R-FAQ.html) est également assez technique
mais elle est riche et regorge d'informations utiles.

### Asking for help

The key to receiving help from someone is for them to rapidly grasp
your problem. You should make it as easy as possible to pinpoint where
the issue might be.

Try to use the correct words to describe your problem. Par exemple, un package
n’est pas la même chose qu’une librairie. Most people will
understand what you meant, but others have really strong feelings
about the difference in meaning. The key point is that it can make
things confusing for people trying to help you. Be as precise as
possible when describing your problem.

If possible, try to reduce what doesn't work to a simple _reproducible
example_. Si vous pouvez reproduire le problème en utilisant une petite table de données
au lieu de celui de 50 000 lignes et 10 000 colonnes, fournissez le petit
avec la description de votre problème. Essayez aussi
de généraliser ce que vous faites afin que les personnes qui ne connaissent pas grand chose à votre domaine
puissent également comprendre la question. For instance instead of using a
subset of your real dataset, create a small (3 columns, 5 rows)
generic one. For more information on how to write a reproducible
example see this article by Hadley
Wickham.

To share an object with someone else, if it's relatively small, you
can use the function `dput()`. Elle produira du code R qui pourra être utilisé
pour recréer exactement le même objet que celui en mémoire :

```{r, results="show", purl=TRUE}
## iris is an example data frame that comes with R and head() is a
## function that returns the first part of the data frame
dput(head(iris))
```

Si l'objet est plus grand, vous pouvez fournir le fichier brut (c'est-à-dire votre fichier CSV) avec votre script jusqu'au point d'erreur (après avoir supprimé tout ce qui n'est pas pertinent pour votre problème). Alternativement, si votre question n'est pas liée
à un jeu de données en particulier, vous pouvez enregistrer n'importe quel objet R dans un fichier[^export] :

```{r, eval=FALSE, purl=FALSE}
saveRDS(iris, file="/tmp/iris.rds")
```

Le contenu de ce fichier ne sera cependant pas lisible directement et ne pourra pas être
publié directement sur Stack Overflow. Il pourra par contre être envoyé à quelqu'un
par email qui pourra le lire avec la commande `readRDS()` (dans ce cas-ci, le fichier téléchargé est censé se trouver dans un dossier `Téléchargements` du
répertoire personnel de l'utilisateur) :

```{r, eval=FALSE, purl=FALSE}
some_data <- readRDS(file="~/Downloads/iris.rds")
```

Dernier point, mais non des moindres, **incluez toujours le résultat de la fonction `sessionInfo()`**
car elle fournit des informations essentielles concernant votre plate-forme, les versions de R et
des _packages_ que vous avez utilisé ainsi que d'autres informations qui peuvent être importantes
pour comprendre votre problème.

```{r, results="show", purl=TRUE}
sessionInfo()
```

### Where to ask for help?

- The person sitting next to you during the course. N'hésitez pas à
  à comparer vos réponses,
  et demander de l'aide.
- De même si un gentil collègue a plus d'expérience que vous, n'hésitez pas à le solliciter, il pourra peut-être vous aider.
- [Stack Overflow](https://stackoverflow.com/questions/tagged/r): if
  your question hasn't been answered before and is well crafted,
  chances are you will get an answer in less than 5 min. Remember to
  follow their guidelines on how to ask a good
  question.
- The R-help mailing
  list: it is read by a
  lot of people (including most of the R core team), a lot of people
  post to it, but the tone can be pretty dry, and it is not always
  very welcoming to new users. Si votre question est valide, vous avez
  de bonnes chances d'obtenir une réponse très rapidement, mais ne vous attendez pas à ce que celle-ci arrive
  avec formules de politesse. Ici plus qu'ailleurs, veillez à utiliser un vocabulaire précis (sinon vous pourriez obtenir une réponse signalant l'utilisation de mots incorrects plutôt que la réponse attendue). Vous aurez également plus de succès si votre question concerne
  une fonction de base plutôt qu'un _package_ spécifique.
- Si votre question concerne un _package_ spécifique, vérifiez s'il existe une liste de diffusion
  dédiée à celui-ci. Habituellement, il est inclus dans le fichier DESCRIPTION
  du package et est accessible en utilisant
  `packageDescription("name-of-package")`. You may also want to try to
  email the author of the package directly, or open an issue on the
  code repository (e.g., GitHub).
- Il existe également quelques listes de diffusion thématiques (Système d'information géographique SIG,
  phylogénétique, etc...), la liste complète se trouve
  [ici](https://www.r-project.org/ mail.html).

### Autres ressources

- The [Posting Guide](https://www.r-project.org/posting-guide.html) for
  the R mailing lists.

- How to ask for R
  help
  useful guidelines.

- This blog post by Jon
  Skeet
  has quite comprehensive advice on how to ask programming questions.

- Le package [reprex](https://cran.rstudio.com/web/packages/reprex/)
  est très utile pour créer des exemples reproductibles lorsque vous demandez de l'aide. The rOpenSci community call "How to ask questions so they get
  answered" (Github
  link and video
  recording) includes a presentation of
  the reprex package and of its philosophy.

## _Packages_ R

### Loading packages

Comme nous l'avons vu plus haut, les _packages_ R jouent un rôle essentiel dans R. Pour bénéficier des fonctionnalités d'un _package_, il faut qu'il soit préalablement installé et chargé. This is done with the
`library()` function. Below, we load `ggplot2`.

```{r loadp, eval=FALSE, purl=TRUE}
library("ggplot2")
```

### Installing packages

The default package repository is The _Comprehensive R Archive
Network_ (CRAN), and any package that is available on CRAN can be
installed with the `install.packages()` function. Ci-dessous,
nous installons par exemple le _package_ `dplyr` que nous découvrirons plus tard.

```{r craninstall, eval=FALSE, purl=TRUE}
install.packages("dplyr")
```

Cette commande installera le _package_ `dplyr` ainsi que toutes ses
dépendances, c'est à dire tous les _packages_ sur lesquels il s'appuie pour fonctionner.

Un autre source majeure de packages R est gérée par Bioconductor. [Bioconductor packages](https://bioconductor.org/packages/release/BiocViews.html#___Software) are managed and installed using a dedicated package,
namely `BiocManager`, that can be installed from CRAN with

```{r, eval=FALSE, purl=TRUE}
install.packages("BiocManager")
```

Des packages spécifiques tels que `SummarizedExperiment` (nous l'utiliserons
plus tard), `DESeq2` (pour l'analyse RNA-Seq) et tout autre _package_ Bioconductor ou CRAN peuvent ensuite être
installés avec ` BiocManager::install`.

```{r, eval=FALSE, purl=TRUE}
BiocManager::install("SummarizedExperiment")
BiocManager::install("DESeq2")
```

Par défaut, `BiocManager::install()`examinera également tous vos packages installés et vérifiera si des versions plus récentes sont disponibles. If there are, it will show them to you and ask you if you want to \`Update all/some/none? . Bien que vous deviez vous efforcer de disposer des dernières versions des _packages_, en pratique, nous vous recommandons de ne les mettre à jour que lors d'une nouvelle session R avant le chargement des _packages_.

:::::::::::::::::::::::::::::::::::::::: keypoints

- Start using R and RStudio

::::::::::::::::::::::::::::::::::::::::::::::::::
